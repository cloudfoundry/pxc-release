SET @@session.sql_log_bin = off;

DROP USER IF EXISTS 'root'@'localhost';
DROP USER IF EXISTS 'roadmin'@'localhost';

DROP USER IF EXISTS 'root'@'127.0.0.1';
DROP USER IF EXISTS 'roadmin'@'127.0.0.1';

DROP USER IF EXISTS 'root'@'::1';
DROP USER IF EXISTS 'roadmin'@'::1';

DROP USER IF EXISTS 'root'@'%';
DROP USER IF EXISTS 'roadmin'@'%';

CREATE USER IF NOT EXISTS 'galera-agent'@'localhost'
IDENTIFIED WITH mysql_native_password BY 'galera-agent-db-creds'
/*!80001 ATTRIBUTE '{ "pxc-release-seeded-user": true }'*/;
ALTER USER 'galera-agent'@'localhost'
IDENTIFIED WITH mysql_native_password BY 'galera-agent-db-creds'
/*!80001 ATTRIBUTE '{ "pxc-release-seeded-user": true }'*/;
REVOKE ALL PRIVILEGES ON *.* FROM 'galera-agent'@'localhost';

CREATE USER IF NOT EXISTS 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'secret-admin-pw';
ALTER USER 'root'@'localhost' IDENTIFIED WITH mysql_native_password BY 'secret-admin-pw';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'localhost' WITH GRANT OPTION;

CREATE USER IF NOT EXISTS 'root'@'127.0.0.1' IDENTIFIED WITH mysql_native_password BY 'secret-admin-pw';
ALTER USER 'root'@'127.0.0.1' IDENTIFIED WITH mysql_native_password BY 'secret-admin-pw';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'127.0.0.1' WITH GRANT OPTION;

CREATE USER IF NOT EXISTS 'root'@'::1' IDENTIFIED WITH mysql_native_password BY 'secret-admin-pw';
ALTER USER 'root'@'::1' IDENTIFIED WITH mysql_native_password BY 'secret-admin-pw';
GRANT ALL PRIVILEGES ON *.* TO 'root'@'::1' WITH GRANT OPTION;

SET @@session.sql_log_bin = on;
